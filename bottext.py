from mainrobot.models import users,  v2panel ,panelinbounds , products , shomarekart , subscriptions 
import random , jdatetime , json
from django.db.models import Sum , Avg , Max , Min , Count
#-all editable messages 


#This is message when user send (/start)
welcome_msg = 'ุณูุงู ุจู ุฑุจุงุช ูุง ุฎูุด ุงูุฏุฏ๐๐ซ\n  ูุฑูุดฺฏุงู ูุง ุจู ุตูุฑุช ฒด ุณุงุนุชู ุงูุงุฏู ูพุดุชุจุงู ุงุฒ ูุงุฒ ูุง ุดูุงุณุช โค๏ธ๐๐ป\n/start'


#Force user join channel 
force_channel_join_msg=f'โจ๏ธูพุด ุงุฒ ุงุฏุงูู ฺฉุงุฑ ุจุง ุฑุจุงุช ูุทูุง ุฏุฑ ฺูู ูุง ูุง ุฌูู ุดูุฏ'




#buy service section 
buy_service_section_product_msg = 'โ๏ธูุญุตูู ฺฉู ูุฎูุงูุฏ ุฑุง ุงูุชุฎุงุจ ููุงุฏ'
buy_service_section_choosing_panel_msg = 'โ๏ธุณุฑูุฑ ุฑุง ฺฉู ูุฎูุงูุฏ ุงูุชุฎุงุจ ููุงุฏ'
buy_service_section_choosing_username_msg = 'ุณุฑูุณ ููุฑุฏ ูุธุฑ ุดูุง ุงูุชุฎุงุจ ุดุฏ โ \n ๐ก ูุทูุง ฺฉ ูุงู ฺฉุงุฑุจุฑ ุจุฑุง ุงุดุชุฑุงฺฉ ุฎูุฏ ุงูุชุฎุงุจ ููุงุฏ . \n   ๐ธูุงู ฺฉุงุฑุจุฑ ุจุงุฏ ุจู ุตูุฑุช ุญุฑูู ู ุงุนุฏุงุฏ ุงูฺฏูุณ ุจุงุดุฏ \n ููููู : \n ali - ali_x - ali1234 \n TO-CANCEL : /cancel'




def product_info_msg(productinfo):
    product_ = products.objects.get(id = int(productinfo['product_id']))

    product_info_msg = f"""
<b>โฎ โฃ ุณุฑูุณ ุดูุง ุงูุชุฎุงุจ ุดุฏ โฃ โญ</b>

โ<b>๐ค ูุงู ฺฉุงุฑุจุฑ</b>: <code>{productinfo['config_name']}</code>

 โโ<b>๐ ูุงู ุณุฑูุฑ</b>: {product_.panel_id.panel_name}
 โโ<b>๐ ูุงู ูุญุตูู</b>: {product_.product_name}
 โโ<b>โ๏ธ ุฒูุงู ูุญุตูู</b>: {product_.expire_date} ุฑูุฒ 
 โโ<b>๐ ุญุฌู ูุญุตูู</b>: {int(product_.data_limit)} ฺฏฺฏ 
 โโ<b>๐ธ ููุช ูุญุตูู</b>: {format(int(product_.product_price) , ',')} ุชููุงู

โ <b> ุฏุฑ ุตูุฑุช ุชุงุฏ ฺฏุฒูู (ุชุงุฏ ูุญุตููโ) ุฑุง ุฒุฏู ู ุฏุฑ ุตูุฑุช ุนุฏู ุชุงุฏ ฺฏุฒูู ุจุงุฒฺฏุดุช ุฑุง ุจุฒูุฏ </b>

"""
    return product_info_msg

  






paied_msg = 'โูพุฑุฏุงุฎุช ุดูุง ุจุง ููููุช ุงูุฌุงู ุดุฏ \n ูุญุตูู ุฏุฑ ุญุงู ุงูุงุฏู ุณุงุฒ ู ุงุฑุณุงู ูุจุงุดุฏ'




def buy_service_section_product_send(link_kind ,config_name , link=None , image_only=None):
    buy_service_section_product_send = f"""
โ๐ูุญุตูู ุดูุง ุญุงุถุฑ ุดุฏ
 โ๐งทููุน ููฺฉ : {link_kind}
 โโ๏ธ ูุงู ุงฺฉุงูุช:โ  <code>{config_name}</code>
โ  ููฺฉ ุดูุง :โ \n<code>{link}</code> 
"""
    
    if image_only is not None:
        buy_service_section_product_image_send = f"""
โ๐ูุญุตูู ุดูุง ุญุงุถุฑ ุดุฏ
 โ๐งทููุน ููฺฉ : <code>{link_kind}</code>
 โโ๏ธ ูุงู ุงฺฉุงูุช:โ {config_name}
""" 
        return buy_service_section_product_image_send
        
    return buy_service_section_product_send



def buy_service_section_cardtocard_msg(cost , user_basket = None): 
    bank = None
    bank_active_status = []
    try :
        shomarekart_ = shomarekart.objects.filter(bank_inmsg = 1)
        if len(shomarekart_) >= 1 :
            for i in shomarekart_:
                if i.bank_status == 1:
                    bank_active_status.append(i)
        else:
            return 'ูฺ ุดูุงุฑู ฺฉุงุฑุช ูุนุงู ูุฌูุฏ ูุฏุงุฑู'
            
        if len(bank_active_status) >= 1:        
            random_shomarekart = random.choice(bank_active_status)
            bank = random_shomarekart
        else:
            bank = None

        if bank : 
            bank_kard = bank.bank_card
            bank_owner = bank.ownername
            bank_name = bank.bank_name
            kard = [str(bank_kard)[i : i+4] for i in range(0 , len(str(bank_kard)) , 4)]
            if user_basket is not None :
                user_basket['card_used'] = shomarekart.objects.get(bank_card = bank_kard)
            buy_service_section_card_to_card_msg = f"""
โฎ ุจุฑุง  ุชฺฉูู ุฎุฑุฏ ุฎูุฏ ู ุฏุฑุงูุช ููฺฉ ุงุดุชุฑุงฺฉ ุฎูุฏ  โญ

โค ๐ธูุจูุบ : {format(cost , ',')}
ุจู ุงู ุดูุงุฑู ฺฉุงุฑุช ูุงุฑุฒ ฺฉุฑุฏู ู ุณูพุณ ูุด ูุงุฑุฒ ุฑุง ููู ุฌุง ุงุฑุณุงู ฺฉูุฏ
โโโโโโโโโโโโโโโโโโโ
               
โ  ๐ณุดูุงุฑู ฺฉุงุฑุช :โ  <code>{(",".join(kard))}</code>

โ โ๐ป ูุงู ุตุงุญุจ ฺฉุงุฑุช : {bank_owner if  bank_owner is not None else ''}

 โ  ๐ฆุจุงูฺฉ ุนุงูู : {bank_name if bank_name is not None else ''}

โโโโโโโโโโโโโโโโโโโ
- ูุทูุง ุงุฒ ุงุณูพู ฺฉุฑุฏู ูพุฑูุฒ ููุงุฏโ๏ธ
โค ุงุฒ ุงุฑุณุงู ุฑุณุฏ ูฺฉ ุงุฌุชูุงุจ ูุฑูุงุฏ โ๏ธ
- ูุฑฺฏููู ูุงุฑุฒ ุงุดุชุจุงู ุจุฑ ุนูุฏู ุดุฎุต ูุจุงุดุฏโ๏ธ

TO-CANCEL : /cancel
.
"""
            
            return buy_service_section_card_to_card_msg
            
        else : 
            return 'ูฺ ุดูุงุฑู ฺฉุงุฑุช ูุนุงู ูุฌูุฏ ูุฏุงุฑุฏ'

    except shomarekart.DoesNotExist as shomarekart_error :
        print(f'An ERROR occured in [bottext.py  - LINE 93-144 - FUNC buy_service_section_cardtocard_msg] \n\n\t Error-msg :{shomarekart_error}')


inovice_time_passed_msg = 'ุงู ุตูุฑุช ุญุณุงุจ ุจุงุทู ุดุฏู ุงุณุช ูุฌุฏุฏ ุตุงุฏุฑ ูุฑูุงุฏ \n ุชูุงู ุตูุฑุช ุญุณุงุจ ูุง ฺฉู ณฐ ุฏููู ุงุฒ ูุฏุช ุฒูุงู ุงููุง ฺฏุฐุดุชู ุจุงุดูุฏ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุงุทู ุฎูุงููุฏ ุดุฏ'




def send_user_buy_request_to_admins(user_basket , user_info , tamdid:bool = False):
    info = user_basket
    product_ = products.objects.get(id =user_basket['product_id'])
    panel_ = v2panel.objects.get(id = product_.panel_id.pk)
    header_text = 'ใโฃ ุฏุฑุฎูุงุณุช ุฎุฑุฏ ุฌุฏุฏ ุฏุฑ ุณุณุชู ุซุจุช ุดุฏู ุงุณุช โฃใ' if tamdid is False else 'ใโฃ ุฏุฑุฎูุงุณุช ุชูุฏุฏ ุณุฑูุณ ุฏุฑ ุณุณุชู ุซุจุช ุดุฏู ุงุณุช โฃใ'
    
    send_user_buy_request_to_admins = f'''
{header_text}
โฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌ
โ๐งทูุงู ุงฺฉุงูุช : <code>{info['config_name']}</code>

โโโ๐ค ุงุฏ ุนุฏุฏ : {user_info.user_id}
โโโ#๏ธโฃ ูุฒุฑูู ุชูฺฏุฑุงู :โ @โ{user_info.username}
โโโ๐ฐููุฌูุฏ ฺฉู ูพูู :โ {format(int(user_info.user_wallet) , ",")} ุชููุงู
โโโ๐ธูุจูุบ ุฎุฑุฏ : {format(int(product_.product_price), ',')} ุชููุงู
โโโ๐ูุงู ูุญุตูู : {product_.product_name}

โ๐ ูุงู ุณุฑูุฑ : {panel_.panel_name}

ยฆโ ุฏุฑ ุตูุฑุช ุชุงุฏ ฺฏุฒูู ุชุงุฏ ูพุฑุฏุงุฎุช โ ุฑุง ุจุฒูุฏ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุฑุฏ ูพุฑุฏุงุฎุช โ  ุฑุง ุจุฒูุฏ
'''
    return send_user_buy_request_to_admins
 




send_success_msg_to_user= '๐จ๐ปโ๐ปุฏุฑุฎูุงุณุช ุดูุง ุจุฑุง ุงุฏูู ุตุงุฏุฑ ุดุฏ ุฏุฑ ุตูุฑุช ุชุงุฏ ุจู ุงุทูุงุน ุดูุง ุฎูุงูุฏ ุฑุณุฏ \n  โ๐ธ ูพุฑุฏุงุฒุด ุฏุฑุฎูุงุณุช ุดูุง ููฺฉู ุงุณุช ูุฏุช ุทูู ุจฺฉุดุฏ ุฏุฑ ุงู ุตูุฑุช ุงุฒ ุงุฑุณุงู ูุฌุฏุฏ ุฏุฑุฎูุงุณุช ุฎูุฏุฏุงุฑ ฺฉูุฏโ'






def user_service_status(configname : str , request_sub = None):
    subscriptions_ = subscriptions.objects.get(user_subscription = configname)
    sub_name = subscriptions_.user_subscription

    if request_sub['expire'] is not None:
        expiredate = str(jdatetime.datetime.fromtimestamp(request_sub["expire"]).strftime('%H:%M:%S-%Y/%m/%d'))
        expire_date = expiredate if request_sub is not None else "-"
    else:
        expire_date = 'ุงู ุงุดุชุฑุงฺฉ ูุงู ุชุงู ูุจุงุดุฏ'

    if subscriptions_.product_id:
        product_name = subscriptions_.product_id.product_name 
        expire = str(subscriptions_.product_id.expire_date)
        product_price = format(subscriptions_.product_id.product_price , ',')
    else:
        product_name , expire , product_price = "-" , "-" , "-"

   
    if subscriptions_:
        Text =f"""
๐ ูุถุนุช ูุนู ุณุฑูุณ ุดูุง

โโ ูุงู ุงุดุชุฑุงฺฉ : <code>{sub_name}</code>
   โฒ ๐ฌูุงู ุจุณุชู :โ {product_name}
   โฒ ๐ูุฏุช ุฒูุงู : {expire} ุฑูุฒ
   โฒ  ๐ฐููุช ูุญุตูู : {product_price} ุชููุงู

โโ ุชุงุฑุฎ ุงููุถุง : {expire_date}

ุจุฑุง ุญุฐู ฺฉุฑุฏู ุงุดุชุฑุงฺฉ ุงุฒ ูุณุช ุฎูุฏ:/rm_mysub_{subscriptions_.pk}

"""
        return Text
    
    else:
        return 'ูฺ ุงุทูุงุนุงุช ุจุฑุง ููุงุด ูุฌูุฏ ูุฏุงุฑุฏ'
    



def sub_link_user_service(user_sub_link):
    Text = f"""
โ๐งทููุน ููฺฉ : ููฺฉ ููุดููุฏ 
ุงู ููฺฉ ุจู ุตูุฑุช ููุดููุฏ ูุจุงุดุฏ ู ุญุงู ฺฉุงููฺฏ ูุง ุงุดุชุฑุงฺฉ ุดูุง ุจู ููุฑุงู ุฏฺฏุฑ ุฌุฒุงุช ูุจุงุดุฏ

<code>{user_sub_link}</code>
"""
    return Text







text_not_inmy_list =f"""
๐ฆุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุงุดุชุฑุงฺฉ ุฎูุฏ ุฏุฑ ุฑุจุงุช ุง ุฏุณุชุฑุณ ุจู ุงุดุชุฑุงฺฉ ุฎูุฏ ุจู ุฏู ุทุฑู ูุชูุงูุฏ ุนูู ฺฉูุฏ

โโ 1๏ธโฃ ุงุฑุณุงู ููฺฉ ููุดููุฏ ุงุดุชุฑุงฺฉ 
    - ุฏุฑ ุงู ุฑูุด ุฏูุช ฺฉูุฏ ฺฉู ููฺฉ ฺฉุงููฺฏ ุฑุง ุงุฑุณุงู ูฺฉูุฏ ู ุชููุง ููฺฉ ููุดููุฏ ฺฉู ุงุจุชุฏุง ุขู ุฏุงุฑุง (https / http) ูุณุช ุฑุง ุงุฑุณุงู ฺฉูุฏ

โโ 2๏ธโฃ ุงุฑุณุงู ูุงู ุฏูู ุงุดุชุฑุงฺฉ 
    - ุฏุฑ ุงู ุฑูุด ูุงู ุงุดุชุฑุงฺฉ ุฎูุฏ ุฑุง ุงุฑุณุงู ููุงุฏ . ุงู ูุงู ููุงู ูุงู ุงุณุช ฺฉู ุฏุฑ ููฺฏุงู ุฎุฑุฏ ุงุดุชุฑุงฺฉ ูุงุฑุฏ ูููุฏุฏ 

TO-CANCEL : /cancel
"""

userid_text = lambda userid : f'โค - ูพุฑููุงู ูู : \n  โ - ุขุฏ ุนุฏุฏ :โ <code>{userid}</code>'
username_text = lambda useranme : f'โค - ูพุฑููุงู ูู :\n  โ - ูุฒุฑูู : {useranme}'








def charge_wallet_txt(userid , amount):
    user_ = users.objects.get(user_id = userid)
    userwallet = format(int(user_.user_wallet) , ',')
    amount = format(int(amount) , ',')
    Text = f"""
ใโฃ ุฏุฑุฎูุงุณุช ุดุงุฑฺ ฺฉู ูพูู ุฏุฑ ุณุณุชู ุซุจุช ุดุฏู ุงุณุช โฃใ
โฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌโฌ

โโโ๐ค: ุงุฏ ุนุฏุฏ : <code>{user_.user_id}</code>
โโโ#๏ธโฃ ูุฒุฑูู ุชูฺฏุฑุงู :โ @โ{user_.username}
โโโ๐ฐููุฌูุฏ ฺฉู ูพูู :โ {userwallet} ุชููุงู
โโโ๐ธูุจูุบ ุดุงุฑฺ : {amount} ุชููุงู

ยฆโ ุฏุฑ ุตูุฑุช ุชุงุฏ ฺฏุฒูู ุชุงุฏ ูพุฑุฏุงุฎุช โ ุฑุง ุจุฒูุฏ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุฑุฏ ูพุฑุฏุงุฎุช โ  ุฑุง ุจุฒูุฏ
"""
    return Text







def inbound_info(inboundid):
    panelinbounds_ = panelinbounds.objects.get(id= inboundid)
    text =f"""
โโโ๐ทูุงู ุงูุจุงูุฏ : {panelinbounds_.inbound_name}
โโโ๐กูพูู ูุชุตู : {panelinbounds_.panel_id.panel_name}

โโโ๐ณุงูุจุงูุฏ ูุง : 
{json.loads(panelinbounds_.inbounds_selected)}

""" 
    return text



text_transfer_money_to_usr = lambda amount , usr_id , usr_wallet : f'โูุจูุบ ููุฑุฏ ูุธุฑ ุจุง ููููุช ุงูุชูุงู ุงูุช \n- ุดูุง ูุจูุบ {amount} ุจู ุดูุงุฑู ุงุฏ  {usr_id} ุงุฑุณุงู ฺฉุฑุฏุฏ . \n - ููุฌูุฏ ูุนู ฺฉู ูพูู ุดูุง : {usr_wallet} ุชููุงู'
text_transfer_money_to_usr_2 = lambda amount : f'๐ ูุจูุบ {amount} ุจู ฺฉู ูพูู ุดูุง ููุชูู ุดุฏ\n - ุงู ุงูุชูุงู ุชูุณุท ุดุฎุต  ุฏฺฏุฑ ุจุฑุง ุดูุง ุงูุฌุงู ุดุฏู ุงุณุช .'





bot_management_fisrt_TEXT = f"""<code> - ุจู ุชูุธูุงุช ุฑุจุงุช ุฎูุด ุขูุฏุฏ  - </code>

ุฏุฑ ุงู ูุณูุช ูุฏุฑุช ฺฉุฑุฏู ุจุฎุด ูุง ูุฎุชูู ุฒุฑ ุงูฺฉุงู ูพุฐุฑ ุงุณุช 

ยฆ- ูุญูู ูพุฑุฏุงุฎุช +โ ูุฏุฑุช ุดูุงุฑู ฺฉุงุฑุช ูุง 
ยฆ- ูุฏุฑุช ฺูู ูุง ุฌูู ุงุฌุจุงุฑ 
ยฆ- ูุญูู ุงุฑุณุงู ููุงุน + ุชูุธู ฺูู ุงุฑุณุงู ููุงุน 
.
"""



bot_management_second_TEXT= f'ุฏุฑ ุงู ูุณูุช ุดูุง ูุชูุงูุฏ ูุญูู ูพุฑุฏุงุฎุชโูุง ู ููฺูู ุดูุงุฑู ฺฉุงุฑุชโูุง ุฑุง ูุฏุฑุช ฺฉูุฏ .'






bot_management_shomare_kart_TEXT_1 = f"""
<code>- ุจู ูุฏุฑุช ุดูุงุฑู ฺฉุงุฑุช ุฎูุด ุขูุฏุฏ - </code>

ุฏุฑ ุงู ูุณูุช ูุฏุฑุช ฺฉุฑุฏู ุจุฎุด ูุง ูุฎุชูู ุฒุฑ ุงูฺฉุงู ูพุฐุฑ ุงุณุช 

ยฆ- ูุฏุฑุช ฺฉุฑุฏู ุดูุงุฑู ฺฉุงุฑุชโูุง + ุญุฐู ุดูุงุฑู ฺฉุงุฑุช + ูุนุงู /ุบุฑูุนุงู ฺฉุฑุฏู 
ยฆ-ุงุถุงูู ฺฉุฑุฏู ุดูุงุฑู ฺฉุงุฑุช 
.
"""



bot_management_shomare_kart_TEXT_2 = lambda bnk_status,bnk_owner,bnk_name,bnk_number,bnk_inuse , number_of_time_used: f"""
- ุฏุฑ ุญุงู ูุดุงูุฏู ู ูุฏุฑุช ฺฉุฑุฏู ุดูุงุฑู ฺฉุงุฑุช ูุจุงุดุฏ -

โ - ๐ูุถุนุช ฺฉุงุฑุช :โ {bnk_status}

โโ  ๐คูุงู ุตุงุญุจ ฺฉุงุฑุช : {bnk_owner}
โโ  ๐ฆ ูุงู ุจุงูฺฉ : {bnk_name}
โโ  ๐ณุดูุงุฑู ฺฉุงุฑุช : {','.join([str(bnk_number)[i : i+4] for i in range(0 , len(str(bnk_number)) , 4)])}
โโ #๏ธโฃ ุชุนุฏุงุฏ ุงุณุชูุงุฏู ุดุฏู ุฏุฑ ูพุฑุฏุงุฎุช ูุง : {number_of_time_used}

โ - ๐ธูุถุนุช ุงุณุชูุงุฏู ุฏุฑ ูพุฑุฏุงุฎุชโูุง : {bnk_inuse}

<blockquote>โ๏ธ โ๏ธ ุฏุฑุตูุฑุช ฺฉู ฺูุฏู ุดูุงุฑู ฺฉุงุฑุช ุจู ุตูุฑุช ูุนุงู ู ุงุณุชูุงุฏู ุฏุฑ ูพุฑุฏุงุฎุชโูุง ุจุงุดุฏ 
ุฑุจุงุช ุจู ุตูุฑุช ุณุณุชู ฺฉ ุงุฒ ุดูุงุฑู ฺฉุงุฑุช ูุง ูุนุงู ุฑุง ุจู ุตูุฑุช ุฑูุฏูู (ุงุชูุงู) ุนููุงู ุดูุงุฑู ฺฉุงุฑุช ุจุฑุง ูุฑ  ูพุฑุฏุงุฎุช ุงูุชุฎุงุจ ูููุงุฏ 
</blockquote>.
    """


bot_management_shomare_kart_TEXT_3 = f"""
<code>- ุจู ูุฏุฑุช ุดูุงุฑู ฺฉุงุฑุช ุฎูุด ุขูุฏุฏ - </code>

ุฏุฑ ุงู ูุณูุช ูุฏุฑุช ฺฉุฑุฏู ุจุฎุด ูุง ูุฎุชูู ุฒุฑ ุงูฺฉุงู ูพุฐุฑ ุงุณุช 

ยฆ- ูุฏุฑุช ฺฉุฑุฏู ุดูุงุฑู ฺฉุงุฑุชโูุง + ุญุฐู ุดูุงุฑู ฺฉุงุฑุช + ูุนุงู /ุบุฑูุนุงู ฺฉุฑุฏู 
ยฆ-ุงุถุงูู ฺฉุฑุฏู ุดูุงุฑู ฺฉุงุฑุช 
.
"""
    



bot_management_join_ch_Text_1 = f"""
<code>- ุจู ูุฏุฑุช ฺููโูุง ุฌูู ุงุฌุจุงุฑ ุฎูุด ุขูุฏุฏ - </code>

ุฏุฑ ุงู ูุณูุช ูุฏุฑุช ฺฉุฑุฏู ุจุฎุด ูุง ูุฎุชูู ุฒุฑ ุงูฺฉุงู ูพุฐุฑ ุงุณุช 

ยฆ- ูุฏุฑุช ฺฉุฑุฏู ฺููโูุง + ุญุฐู ฺููโูุง + ูุนุงู /ุบุฑูุนุงู ฺฉุฑุฏู 
ยฆ-ุงุถุงูู ฺฉุฑุฏู  ฺููโ ุฌุฏุฏ
.
"""



bot_management_join_ch_Text_2 = lambda ch_status,ch_name,ch_url,ch_id : f"""
- ุดูุง ุฏุฑ ุญุงู ูุดุงูุฏู ู ูุฏุฑุช ฺฉุฑุฏู ฺูู ุฌูู ุงุฌุจุงุฑ ูุจุงุดุฏ -

โ - ๐ูุถุนุช ฺูู :โ {ch_status}

โโ๐ ูุงู ฺูู : {ch_name}
โโ๐ุงุฏุฑุณ ฺูู : {ch_url}

โ - #๏ธโฃุงุฏ ุนุฏุฏ ฺูู : {ch_id}

<blockquote>โ๏ธโ๏ธ ุฏูุช ฺฉูุฏ ฺฉู ุฏุฑ ุตูุฑุช ฺฉู ูุถุนุช ฺูุฏู ฺูู ุจู ุตูุฑุช ูุนุงู ุจุงุดุฏ ููู ฺูู ูุง ุฏุฑ ุฌูู ุงุฌุจุงุฑ ููุงุด ุฏุงุฏู ุฎูุงูุฏ ุดุฏ </blockquote>

"""



bot_management_join_ch_Text_3 = f"""
- ุฏุฑ ุงู ูุฑุญูู ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุตุญุญ ฺูู ุฏุฑ ุฑุจุงุช ูฺฉุงุช ุฒุฑ ุฑุง ููุฑุฏ ุชูุฌู ูุฑุงุฑ ุฏูุฏ - 

<blockquote> ุญุชูุง ุฑุจุงุช ุฑุง ุฏุฑ ฺฉุงูุงู ูุง ฺฉู ุงุถุงูู ูฺฉูุฏ ุจู ุตูุฑุช 
add as administrator 
ุงุถุงูู ฺฉูุฏ ุชุง ุฑุจุงุช ุจุชูุงูุฏ ฺฉูุชุฑู ุฌูู ุงุฌุจุงุฑ ฺูู ุฑุง ุจู ุตูุฑุช ุตุญุญ ุงูุฌุงู ุฏูุฏ 
</blockquote>

<b> 1๏ธโฃ ุฑูุด  ุงูู (ูพุดููุงุฏ) </b>:โ ุจุฑุง ุงูฺฉู ฺูู ุจู ุตูุฑุช ุตุญุญ ูุงุฑุฏ ุฑุจุงุช ุดูุฏ ู ุฏุฑ ุนููฺฉุฑุฏ ุฑุจุงุช ุงุฎูุงู ุงุฌุงุฏ ูฺฉูุฏ<b> ฺฉ ูพุงู ุงุฒ ฺูู</b>ุฑุง ูุงุฑุฏ ุฑุจุงุช ุฒุฑ ุง ูุฑ ุฑุจุงุช ุจุง ุนููฺฉุฑุฏ ฺฉุณุงู ุจุง ุฑุจุงุช ุฒุฑ ฺฉูุฏ 

#๏ธโฃ @userinfobot 

ุฏุฑ ุฌูุงุจ ูพุงู ุดูุง ูพุงู ุจุง ูุญุชูุง ุฒุฑ ููุงุด ุฏุงุฏู ูุดูุฏ 
Id: -1002148064457
Title: Dev-ch
ฺฉู ูุณูุช ุนุฏุฏ ุขู ุจู ุตูุฑุช -1002148064457 ูุจุงุดุฏ ุฑุง ุงุฑุณุงู ููุงุฏ ุชุง ุซุจุช ุดูุฏ โ


2๏ธโฃ ุฑูุด ุฏููโ: ุฏุฑ ุงู ุฑูุด ุงุฏ ุนููู ฺฉุงูุงู (ูู ููฺฉ ุฎุตูุต ) ุฑุง ุจู ููุฑุงู @ ุงุฑุณุงู ฺฉูุฏ ุชุง ุซุจุช ุดูุฏ โ
ููููู : @channel

TO-CANCEL : /cancel
.
"""



bot_management_join_ch_Text_4 =f"""
<code>- ุจู ูุฏุฑุช ฺููโูุง ุฌูู ุงุฌุจุงุฑ ุฎูุด ุขูุฏุฏ - </code>

ุฏุฑ ุงู ูุณูุช ูุฏุฑุช ฺฉุฑุฏู ุจุฎุด ูุง ูุฎุชูู ุฒุฑ ุงูฺฉุงู ูพุฐุฑ ุงุณุช 

ยฆ- ูุฏุฑุช ฺฉุฑุฏู ฺููโูุง + ุญุฐู ฺููโูุง + ูุนุงู /ุบุฑูุนุงู ฺฉุฑุฏู 
ยฆ-ุงุถุงูู ฺฉุฑุฏู  ฺููโ ุฌุฏุฏ

.
"""



bot_management_join_ch_Text_5 = f"""
- ุฏุฑ ุงู ูุฑุญูู ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุตุญุญ ฺูู ุฏุฑ ุฑุจุงุช ูฺฉุงุช ุฒุฑ ุฑุง ููุฑุฏ ุชูุฌู ูุฑุงุฑ ุฏูุฏ - 

<blockquote> ุญุชูุง ุฑุจุงุช ุฑุง ุฏุฑ ฺฉุงูุงู ูุง ฺฉู ุงุถุงูู ูฺฉูุฏ ุจู ุตูุฑุช 
add as administrator 
ุงุถุงูู ฺฉูุฏ ุชุง ุฑุจุงุช ุจุชูุงูุฏ ฺฉูุชุฑู ุฌูู ุงุฌุจุงุฑ ฺูู ุฑุง ุจู ุตูุฑุช ุตุญุญ ุงูุฌุงู ุฏูุฏ 
</blockquote>

<b> 1๏ธโฃ ุฑูุด  ุงูู (ูพุดููุงุฏ) </b>:โ ุจุฑุง ุงูฺฉู ฺูู ุจู ุตูุฑุช ุตุญุญ ูุงุฑุฏ ุฑุจุงุช ุดูุฏ ู ุฏุฑ ุนููฺฉุฑุฏ ุฑุจุงุช ุงุฎูุงู ุงุฌุงุฏ ูฺฉูุฏ<b> ฺฉ ูพุงู ุงุฒ ฺูู</b>ุฑุง ูุงุฑุฏ ุฑุจุงุช ุฒุฑ ุง ูุฑ ุฑุจุงุช ุจุง ุนููฺฉุฑุฏ ฺฉุณุงู ุจุง ุฑุจุงุช ุฒุฑ ฺฉูุฏ 

#๏ธโฃ @userinfobot 

ุฏุฑ ุฌูุงุจ ูพุงู ุดูุง ูพุงู ุจุง ูุญุชูุง ุฒุฑ ููุงุด ุฏุงุฏู ูุดูุฏ 
Id: -100000000000
Title: Dev-ch
ฺฉู ูุณูุช ุนุฏุฏ ุขู ุจู ุตูุฑุช -100000000000 ูุจุงุดุฏ ุฑุง ุงุฑุณุงู ููุงุฏ ุชุง ุซุจุช ุดูุฏ โ


2๏ธโฃ ุฑูุด ุฏููโ: ุฏุฑ ุงู ุฑูุด ุงุฏ ุนููู ฺฉุงูุงู (ูู ููฺฉ ุฎุตูุต ) ุฑุง ุจู ููุฑุงู @ ุงุฑุณุงู ฺฉูุฏ ุชุง ุซุจุช ุดูุฏ โ
ููููู : @channel

TO-CANCEL : /cancel
.
"""



bot_management_log_ch_Text_1 = f"""
- ุฏุฑ ุงู ูุฑุญูู ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุตุญุญ ฺูู ุฏุฑ ุฑุจุงุช ูฺฉุงุช ุฒุฑ ุฑุง ููุฑุฏ ุชูุฌู ูุฑุงุฑ ุฏูุฏ - 

<blockquote>
ุงู ฺูู ุจุฑุง ุงุฑุณุงู ููุงุน ูุฎุชูู ุฏุฑ ุฏุงุฎู ุฑุจุงุช ูุจุงุดุฏ 
</blockquote>
ุจุฑุง ุงูฺฉู ฺูู ุจู ุตูุฑุช ุตุญุญ ูุงุฑุฏ ุฑุจุงุช ุดูุฏ ู ุฏุฑ ุนููฺฉุฑุฏ ุฑุจุงุช ุงุฎูุงู ุงุฌุงุฏ ูฺฉูุฏ ฺฉ ูพุงู ุงุฒ ฺูู ุฑุง ูุงุฑุฏ ุฑุจุงุช ุฒุฑ ุง ูุฑ ุฑุจุงุช ุจุง ุนููฺฉุฑุฏ ฺฉุณุงู ุจุง ุฑุจุงุช ุฒุฑ ฺฉูุฏ 
#๏ธโฃ @userinfobot 

ุฏุฑ ุฌูุงุจ ูพุงู ุดูุง ูพุงู ุจุง ูุญุชูุง ุฒุฑ ููุงุด ุฏุงุฏู ูุดูุฏ 
Id: -100000000000
Title: Dev-ch
ฺฉู ูุณูุช ุนุฏุฏ ุขู ุจู ุตูุฑุช -100000000000 ูุจุงุดุฏ ุฑุง ุงุฑุณุงู ููุงุฏ ุชุง ุซุจุช ุดูุฏ โ

TO-CANCEL : /cancel
    """



def getUserOperationsCashs_1(userId):
    users_ = users.objects.get(user_id = userId) 
    Text= f'''
ุนูู ุงูุชุฎุงุจ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ููุงุฏ 

๐ค: <code> {str(users_.user_id)} </code>
โโ  ูุงู ฺฉุงุฑุจุฑ :โ{str(users_.first_name) } {str(users_.last_name)}
โโ  ูุฒุฑ ูู : @{str(users_.username)}
โโ ููุฌูุฏ ฺฉู ูพูู : {str(format(int(users_.user_wallet) , ','))}

.
'''
    return Text

getUserOperationsCashs_2 = lambda amnt:  f"""
โโ ูุจูุบ : {str(amnt)} ุชููุงู
ุจู ฺฉู ูพูู ุดูุง ุงุถุงูู ุดุฏ โ
.
"""

getUserOperationsCashs_3 = lambda amnt : f"""
โโ ูุจูุบ : {str(amnt)} ุชููุงู
ุจู ฺฉู ูพูู ุดูุง ฺฉุณุฑ ุดุฏ 
.
"""



botStatics_1 =  lambda user_ , v2panel_ , product_ , payment_ , inovices_ : f"""
    ุขูุงุฑ ุฑุจุงุช ุจู ุตูุฑุช ุฒุฑ ูุจุงุดุฏ
๐ค ุชุนุฏุงุฏ ฺฉู ูุฒุฑ ูุง ุฑุจุงุช: {user_}
๐ ุชุนุฏุงุฏ ฺฉู ูพูู ูุง ูุชุตู ุจู ุฑุจุงุช: {v2panel_}
๐ุชุนุฏุงุฏ ฺฉู ูุญุตููุงุช ุฑุจุงุช : {product_}
๐ ุชุนุฏุงุฏ ฺฉู ูพุฑุฏุงุฎุช ูุง : {payment_}
๐ ุชุนุฏุงุฏ ฺฉู ูุงฺฉุชูุฑ ูุง ุตุงุฏุฑ ุดุฏู : {inovices_}
"""


botStatics_2 = lambda users_ :  f"""
    ๐- ุขูุงุฑ ฺฉุงุฑุจุฑุงู 

โโ ุชุนุฏุงุฏ ฺฉู ฺฉุงุฑุจุฑุงู : {users_.all().count()} ููุฑ
โโ ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ุจูุงฺฉ ุดุฏู : {users_.filter(block_status =1).count()} ููุฑ 
โโ ฺฉู ููุฌูุฏ ฺฉู ูพูู ฺฉุงุฑุจุฑุงู : {format(int(users_.all().aggregate(Sum('user_wallet'))['user_wallet__sum']) , ',')} ุชููุงู
โโ ุจุดุชุฑู ููุฌูุฏ ฺฉู ูพูู ฺฉุงุฑุจุฑุงู : {format(int(users_.all().aggregate(Max('user_wallet'))['user_wallet__max']) ,',')} ุชููุงู

โฃ - ฺฉุงุฑุจุฑุงู ุฏุงุฑุง ุจุดุชุฑู ููุฌูุฏ -

"""
            

botStatics_3 = lambda products_ : f"""
    ๐- ุขูุงุฑ ูุญุตููุงุช

โโ ุชุนุฏุงุฏ ฺฉู ูุญุตููุงุช : {products_.all().count()} ุนุฏุฏ
โโ ฺฉูุชุฑู ููุช ูุญุตูู : {format(products_.all().aggregate(Min('product_price'))['product_price__min'],',')} ุชููู
โโ ุจุดุชุฑู ููุช ูุญุตูู : {format(products_.all().aggregate(Max('product_price'))['product_price__max'], ',')} ุชููู
โโ ฺฉูุชุฑู ุญุฌู ูุญุตูู : {int(products_.all().aggregate(Min('data_limit'))['data_limit__min'])} ฺฏฺฏ
โโ ุจุดุชุฑู ุญุฌู ูุญุตูู : {int(products_.all().aggregate(Max('data_limit'))['data_limit__max'])} ฺฏฺฏ

โฃ - ุจุดุชุฑู ูุญุตููุงุช ูุฑูุด ุฑูุชู - 
"""           

botStatics_4 = lambda panels_ : f"""
    ๐- ุขูุงุฑ ูพูู ูุง 

โโ ุชุนุฏุงุฏ ฺฉู ูพูู ูุง :โ {panels_.all().count()}
โโ ุชุนุฏุงุฏ ุงุดุชุฑุงฺฉ ูุง ูุฑ ูพูู: 
"""

botStatics_5 = lambda inovices_ :  f"""
    ๐- ุขูุงุฑ ูุงฺฉุชูุฑูุง

โโ ุชุนุฏุงุฏ ฺฉู ูุงฺฉุชูุฑูุง ุตุงุฏุฑ ุดุฏู : {inovices_.aggregate(Count('id'))['id__count']} ุนุฏุฏ
โโ ุชุนุฏุงุฏ ูุงฺฉุชูุฑูุง ุชูุฏุฏ ุดุฏู : {inovices_.filter(kind_pay ='Tamdid').aggregate(Count('id'))['id__count']} ุนุฏุฏ
โโ ุชุนุฏุงุฏ ูุงฺฉุชูุฑูุง ุงููู ุฎุฑุฏ  : {inovices_.filter(kind_pay = 'Buy').aggregate(Count('id'))['id__count']} ุนุฏุฏ
โโ ฺฉู ููุช ูุงฺฉุชูุฑูุง ุตุงุฏุฑ ุดุฏู : {format(int(inovices_.aggregate(Sum('product_price'))['product_price__sum']) ,',')} ุชููุงู
โโ ฺฉู ุญุฌู ูุงฺฉุชูุฑูุง ุตุงุฏุฑ ุดุฏู : {inovices_.aggregate(Sum('data_limit'))['data_limit__sum']} Gb

โฃ - ุจุดุชุฑู ูุญุตููุงุช ูุงฺฉุชูุฑ ุดุฏู - 
    """




botStatics_6 = lambda payments_ :  f"""
    ๐- ุขูุงุฑ ูพุฑุฏุงุฎุชโูุง 

โโ ุชุนุฏุงุฏ ฺฉู ูพุฑุฏุงุฎุช ูุง  : {payments_.aggregate(Count('id'))['id__count']} ุนุฏุฏ
โโ ุชุนุฏุงุฏ ฺฉู ูพุฑุฏุงุฎุช ูุง ูููู : {payments_.filter(payment_status ='accepted').aggregate(Count('id'))['id__count']} ุนุฏุฏ
โโ ุชุนุฏุงุฏ ฺฉู ูพุฑุฏุงุฎุช ูุง ูุงูููู  : {payments_.filter(payment_status ='declined').aggregate(Count('id'))['id__count']} ุนุฏุฏ
โโ ฺฉู ูพุฑุฏุงุฎุช ูุง ูููู  : {format(int(payments_.filter(payment_status ='accepted').aggregate(Sum('amount'))['amount__sum']), ',')} ุชููุงู
.
"""